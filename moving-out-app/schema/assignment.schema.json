{
  "schema_version": "1.0.0",
  "title": "Moving Out Project / Life After High School Budgeting",
  "description": "Schema-driven assignment definition for student budgeting workflow.",
  "sections": [
    {
      "id": "student_profile",
      "title": "Student Profile",
      "description": "Basic assignment context information.",
      "points": 5
    },
    {
      "id": "income",
      "title": "Income",
      "description": "Estimate your monthly gross and net income.",
      "points": 20
    },
    {
      "id": "housing",
      "title": "Housing",
      "description": "Choose where you will live and estimate housing costs.",
      "points": 20
    },
    {
      "id": "transportation",
      "title": "Transportation",
      "description": "Choose transportation and estimate vehicle/transit costs.",
      "points": 20
    },
    {
      "id": "living_expenses",
      "title": "Living Expenses",
      "description": "Estimate everyday monthly costs.",
      "points": 20
    },
    {
      "id": "reflections",
      "title": "Reflections",
      "description": "Explain choices and tradeoffs.",
      "points": 15
    },
    {
      "id": "summary",
      "title": "Budget Summary",
      "description": "Derived totals from all sections.",
      "points": 0
    }
  ],
  "fields": [
    {
      "id": "student_name",
      "section_id": "student_profile",
      "label": "Student Name",
      "type": "text",
      "role": "input",
      "required": false,
      "ui": {
        "placeholder": "Your full name"
      }
    },
    {
      "id": "class_name",
      "section_id": "student_profile",
      "label": "Class",
      "type": "text",
      "role": "input",
      "required": false,
      "ui": {
        "placeholder": "e.g., Career and Life Management"
      }
    },
    {
      "id": "teacher_name",
      "section_id": "student_profile",
      "label": "Teacher",
      "type": "text",
      "role": "input",
      "required": false,
      "ui": {
        "placeholder": "Teacher name"
      }
    },
    {
      "id": "hourly_wage",
      "section_id": "income",
      "label": "Hourly Wage",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "max": 200,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "hours_per_week",
      "section_id": "income",
      "label": "Hours Worked Per Week",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "max": 80,
        "step": 0.1
      }
    },
    {
      "id": "other_monthly_income",
      "section_id": "income",
      "label": "Other Monthly Income",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$",
        "help_text": "Scholarships, side work, support, etc."
      }
    },
    {
      "id": "gross_monthly_income",
      "section_id": "income",
      "label": "Gross Monthly Income (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "gross_monthly_income",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "net_monthly_income",
      "section_id": "income",
      "label": "Net Monthly Income (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "net_monthly_income",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "housing_option_label",
      "section_id": "housing",
      "label": "Housing Option",
      "type": "text",
      "role": "input",
      "required": true,
      "ui": {
        "placeholder": "e.g., Basement suite near school"
      }
    },
    {
      "id": "rent_monthly",
      "section_id": "housing",
      "label": "Monthly Rent",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "utilities_monthly",
      "section_id": "housing",
      "label": "Monthly Utilities",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "renter_insurance_monthly",
      "section_id": "housing",
      "label": "Renter Insurance",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "internet_phone_monthly",
      "section_id": "housing",
      "label": "Internet + Phone",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "other_housing_monthly",
      "section_id": "housing",
      "label": "Other Housing Costs",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "housing_monthly_total",
      "section_id": "housing",
      "label": "Housing Total (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "housing_monthly_total",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "transport_option_label",
      "section_id": "transportation",
      "label": "Transportation Option",
      "type": "text",
      "role": "input",
      "required": true,
      "ui": {
        "placeholder": "e.g., Used compact car"
      }
    },
    {
      "id": "transport_mode",
      "section_id": "transportation",
      "label": "Transportation Type",
      "type": "select",
      "role": "input",
      "required": true,
      "options": [
        {
          "label": "Car",
          "value": "car"
        },
        {
          "label": "Truck",
          "value": "truck"
        },
        {
          "label": "Transit / No Vehicle",
          "value": "transit"
        }
      ]
    },
    {
      "id": "vehicle_price",
      "section_id": "transportation",
      "label": "Vehicle Price",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "vehicle_down_payment_amount",
      "section_id": "transportation",
      "label": "Down Payment",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$",
        "help_text": "Leave empty to use teacher default percentage."
      }
    },
    {
      "id": "vehicle_term_months",
      "section_id": "transportation",
      "label": "Loan Term (Months)",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 12,
        "max": 96,
        "step": 1
      }
    },
    {
      "id": "vehicle_apr_percent",
      "section_id": "transportation",
      "label": "Loan APR (%)",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "max": 30,
        "step": 0.01
      }
    },
    {
      "id": "km_per_week",
      "section_id": "transportation",
      "label": "Kilometers Driven Per Week",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.1
      }
    },
    {
      "id": "transit_monthly_pass",
      "section_id": "transportation",
      "label": "Monthly Transit Pass",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "transport_insurance_monthly",
      "section_id": "transportation",
      "label": "Vehicle Insurance",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "parking_monthly",
      "section_id": "transportation",
      "label": "Parking",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "transport_loan_payment_monthly",
      "section_id": "transportation",
      "label": "Estimated Loan Payment (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "transport_loan_payment_monthly",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "transport_operating_monthly",
      "section_id": "transportation",
      "label": "Operating Cost (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "transport_operating_monthly",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "transport_monthly_total",
      "section_id": "transportation",
      "label": "Transportation Total (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "transport_monthly_total",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "groceries_monthly",
      "section_id": "living_expenses",
      "label": "Groceries",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "health_medical_monthly",
      "section_id": "living_expenses",
      "label": "Health / Medical",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "personal_monthly",
      "section_id": "living_expenses",
      "label": "Personal / Clothing",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "entertainment_monthly",
      "section_id": "living_expenses",
      "label": "Entertainment",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "savings_monthly",
      "section_id": "living_expenses",
      "label": "Savings Contribution",
      "type": "number",
      "role": "input",
      "required": true,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "other_expenses_monthly",
      "section_id": "living_expenses",
      "label": "Other Expenses",
      "type": "number",
      "role": "input",
      "required": false,
      "validation": {
        "min": 0,
        "step": 0.01
      },
      "ui": {
        "prefix": "$"
      }
    },
    {
      "id": "ref_values_alignment",
      "section_id": "reflections",
      "label": "How do your choices reflect your values?",
      "type": "textarea",
      "role": "reflection",
      "required": true,
      "validation": {
        "min_length": 40,
        "max_length": 1500
      }
    },
    {
      "id": "ref_budget_adjustments",
      "section_id": "reflections",
      "label": "If your budget is tight, what would you change first?",
      "type": "textarea",
      "role": "reflection",
      "required": true,
      "validation": {
        "min_length": 40,
        "max_length": 1500
      }
    },
    {
      "id": "ref_confidence",
      "section_id": "reflections",
      "label": "How confident are you in your plan and why?",
      "type": "textarea",
      "role": "reflection",
      "required": true,
      "validation": {
        "min_length": 40,
        "max_length": 1500
      }
    },
    {
      "id": "total_monthly_expenses",
      "section_id": "summary",
      "label": "Total Monthly Expenses (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "total_monthly_expenses",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    },
    {
      "id": "monthly_surplus",
      "section_id": "summary",
      "label": "Monthly Surplus / Deficit (Derived)",
      "type": "number",
      "role": "derived",
      "required": false,
      "compute_key": "monthly_surplus",
      "ui": {
        "prefix": "$",
        "read_only": true
      }
    }
  ],
  "evidence_requirements": [
    {
      "id": "rental_ad",
      "label": "Rental Ad Evidence",
      "description": "Provide a rental listing URL and optionally an uploaded screenshot/PDF.",
      "required": true,
      "section_id": "housing"
    },
    {
      "id": "vehicle_ad",
      "label": "Vehicle Ad Evidence",
      "description": "Provide a vehicle listing URL and optionally an uploaded screenshot/PDF.",
      "required": true,
      "section_id": "transportation"
    }
  ],
  "pinning": {
    "categories": [
      {
        "id": "housing",
        "section_id": "housing",
        "label_field_id": "housing_option_label",
        "snapshot_field_ids": [
          "housing_option_label",
          "rent_monthly",
          "utilities_monthly",
          "renter_insurance_monthly",
          "internet_phone_monthly",
          "other_housing_monthly",
          "housing_monthly_total"
        ]
      },
      {
        "id": "transportation",
        "section_id": "transportation",
        "label_field_id": "transport_option_label",
        "snapshot_field_ids": [
          "transport_option_label",
          "transport_mode",
          "vehicle_price",
          "vehicle_down_payment_amount",
          "vehicle_term_months",
          "vehicle_apr_percent",
          "km_per_week",
          "transit_monthly_pass",
          "transport_insurance_monthly",
          "parking_monthly",
          "transport_loan_payment_monthly",
          "transport_operating_monthly",
          "transport_monthly_total"
        ]
      }
    ]
  }
}
